<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xflow AI Hackathon 2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Navbar (Fixed/Sticky) -->
    <nav id="navbar">
        <div class="nav-wrapper">
            <div class="nav-links">
                <a href="#home" class="nav-link active">Home</a>
                <a href="#about" class="nav-link">About</a>
                <a href="#rules" class="nav-link">Rules</a>
                <a href="#prize" class="nav-link">Prize</a>
            </div>
            <button class="apply-btn">Apply</button>
        </div>
    </nav>

    <!-- Hero Section (Cover Page) -->
    <section id="home" class="hero-section">
        <div class="hero-container">
            <!-- Navbar removed from here -->

            <!-- ASCII Frame (rounded corners) -->
            <div class="hero-frame">
                <div id="hero-ascii-canvas"></div>
                <div class="hero-badge">Xflow AI Day 2026</div>
            </div>
        </div>
    </section>

    <!-- Section 1: About -->
    <section id="about" class="content-section">
        <div class="section-container">
            <div class="section-text">
                <div class="section-heading">
                    <h1>Build for Xflow</h1>
                    <h2>Using AI</h2>
                </div>
                <p class="section-body">
                    Lorem ipsum dolor sit amet consectetur. Pellentesque nec turpis donec massa feugiat tincidunt
                    mattis.
                    Facilisis porta elementum et ullamcorper. Erat enim purus mauris gravida odio eget.
                    Bibendum ut consequat varius sem.
                </p>
            </div>
            <div class="section-3d">
                <div id="canvas-container-1" class="canvas-container">
                    <canvas id="pixel-canvas-1" class="pixel-canvas"></canvas>
                    <div id="ascii-canvas-1" class="ascii-canvas"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Rules -->
    <section id="rules" class="content-section">
        <div class="section-container">
            <div class="section-text">
                <div class="section-heading">
                    <h1>Competition</h1>
                    <h2>Guidelines</h2>
                </div>
                <p class="section-body">
                    Lorem ipsum dolor sit amet consectetur. Pellentesque nec turpis donec massa feugiat tincidunt
                    mattis.
                    Facilisis porta elementum et ullamcorper. Erat enim purus mauris gravida odio eget.
                    Bibendum ut consequat varius sem.
                </p>
            </div>
            <div class="section-3d">
                <div id="canvas-container-2" class="canvas-container">
                    <canvas id="pixel-canvas-2" class="pixel-canvas"></canvas>
                    <div id="ascii-canvas-2" class="ascii-canvas"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Prize -->
    <section id="prize" class="content-section">
        <div class="section-container">
            <div class="section-text">
                <div class="section-heading">
                    <h1>Win Amazing</h1>
                    <h2>Rewards</h2>
                </div>
                <p class="section-body">
                    Lorem ipsum dolor sit amet consectetur. Pellentesque nec turpis donec massa feugiat tincidunt
                    mattis.
                    Facilisis porta elementum et ullamcorper. Erat enim purus mauris gravida odio eget.
                    Bibendum ut consequat varius sem.
                </p>
            </div>
            <div class="section-3d">
                <div id="canvas-container-3" class="canvas-container">
                    <canvas id="pixel-canvas-3" class="pixel-canvas"></canvas>
                    <div id="ascii-canvas-3" class="ascii-canvas"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Three.js -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.140.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.140.0/examples/js/loaders/OBJLoader.js"></script>

    <!-- Engine -->
    <script src="engine.js"></script>

    <!-- Smooth Scroll -->
    <script>
        // Smooth scroll for nav links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }

                // Update active state
                document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Initialize engines and scroll spy when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Hero ASCII
            new ASCIIOnlyEngine('hero-ascii-canvas', 'obj files/Xflow_horizontal.obj');

            // Section 3D engines
            new ThreeJSEngine(1, 'obj files/Xflow.obj');
            new ThreeJSEngine(2, 'obj files/Xflow.obj');
            new ThreeJSEngine(3, 'obj files/Xflow.obj');

            // Scroll Spy
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');

            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.5 // Trigger when 50% is visible
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');

                        // Update active state
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>

</html>